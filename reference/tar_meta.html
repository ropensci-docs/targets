<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Read a project's metadata. — tar_meta • targets</title><!-- rOpenSci favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read a project's metadata. — tar_meta"><meta name="description" content="Read the metadata of all recorded targets and global objects."><meta property="og:description" content="Read the metadata of all recorded targets and global objects."><meta property="og:image" content="https://docs.ropensci.org/targets/logo.svg"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.css"><script src="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.umd.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">targets</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.8.0.9003</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/overview.html">Overview</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://books.ropensci.org/targets">Manual</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://books.ropensci.org/targets-design">Design</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/overview.html">An overview of targets</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/targets/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Read a project's metadata.</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/targets/blob/master/R/tar_meta.R" class="external-link"><code>R/tar_meta.R</code></a></small>
      <div class="d-none name"><code>tar_meta.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Read the metadata of all recorded targets and global objects.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tar_meta</span><span class="op">(</span></span>
<span>  names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fields <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  targets_only <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  complete_only <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  store <span class="op">=</span> <span class="fu">targets</span><span class="fu">::</span><span class="fu"><a href="tar_config_get.html">tar_config_get</a></span><span class="op">(</span><span class="st">"store"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-names">names<a class="anchor" aria-label="anchor" href="#arg-names"></a></dt>
<dd><p>Optional, names of the targets. If supplied, <code>tar_meta()</code>
only returns metadata on these targets.
You can supply symbols
or <code>tidyselect</code> helpers like <code><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">any_of()</a></code> and <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with()</a></code>.
If <code>NULL</code>, all names are selected.</p></dd>


<dt id="arg-fields">fields<a class="anchor" aria-label="anchor" href="#arg-fields"></a></dt>
<dd><p>Optional, names of columns/fields to select. If supplied,
<code>tar_meta()</code> only returns the selected metadata columns.
If <code>NULL</code>, all fields are selected.
You can supply symbols or <code>tidyselect</code> helpers
like <code><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">any_of()</a></code> and <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with()</a></code>.
The <code>name</code> column is always included first
no matter what you select. Choices:</p><ul><li><p><code>name</code>: name of the target or global object.</p></li>
<li><p><code>type</code>: type of the object: either <code>"function"</code> or <code>"object"</code>
for global objects, and <code>"stem"</code>, <code>"branch"</code>,
<code>"map"</code>, or <code>"cross"</code> for targets.</p></li>
<li><p><code>data</code>: hash of the output data.</p></li>
<li><p><code>command</code>: hash of the target's deparsed command.</p></li>
<li><p><code>depend</code>: hash of the immediate upstream dependencies of the target.</p></li>
<li><p><code>seed</code>: random number generator seed with which the target ran.
A target's random number generator seed
is a deterministic function of its name. In this way,
each target runs with a reproducible seed so someone else
running the same pipeline should get the same results,
and no two targets in the same pipeline share the same seed.
(Even dynamic branches have different names and thus different seeds.)
You can recover the seed of a completed target
with <code>tar_meta(your_target, seed)</code> and run <code><a href="tar_seed_set.html">tar_seed_set()</a></code>
on the result to locally recreate the target's initial RNG state.</p></li>
<li><p><code>path</code>: A list column of paths to target data. Usually, each element
is a single path, but there could be multiple paths per target
for dynamic files (i.e. <code>tar_target(format = "file")</code>).</p></li>
<li><p><code>time</code>: <code>POSIXct</code> object with the time the target's data in storage
was last modified. If the target stores no local file,
then the time stamp corresponds to the time the target last
ran successfully. Only targets that run commands have time stamps:
just non-branching targets and individual dynamic branches.
Displayed in the current time zone of the system.
If there are multiple outputs for that target, as with file targets,
then the maximum time is shown.</p></li>
<li><p><code>size</code>: hash of the sum of all the bytes of the files at <code>path</code>.</p></li>
<li><p><code>bytes</code>: total file size in bytes of all files in <code>path</code>.</p></li>
<li><p><code>format</code>: character, one of the admissible data storage formats.
See the <code>format</code> argument in the <code><a href="tar_target.html">tar_target()</a></code> help file for details.</p></li>
<li><p><code>iteration</code>: character, either <code>"list"</code> or <code>"vector"</code>
to describe the iteration and aggregation mode of the target. See the
<code>iteration</code> argument in the <code><a href="tar_target.html">tar_target()</a></code> help file for details.</p></li>
<li><p><code>parent</code>: for branches, name of the parent pattern.</p></li>
<li><p><code>children</code>: list column, names of the children of targets that
have them. These include buds of stems and branches of patterns.</p></li>
<li><p><code>seconds</code>: number of seconds it took to run the target.</p></li>
<li><p><code>warnings</code>: character string of warning messages
from the last run of the target.
Only the first 50 warnings are available,
and only the first 2048 characters of the concatenated warning messages.</p></li>
<li><p><code>error</code>: character string of the error message if the target errored.</p></li>
</ul></dd>


<dt id="arg-targets-only">targets_only<a class="anchor" aria-label="anchor" href="#arg-targets-only"></a></dt>
<dd><p>Logical, whether to just show information about targets
or also return metadata on functions and other global objects.</p></dd>


<dt id="arg-complete-only">complete_only<a class="anchor" aria-label="anchor" href="#arg-complete-only"></a></dt>
<dd><p>Logical, whether to return only complete rows
(no <code>NA</code> values).</p></dd>


<dt id="arg-store">store<a class="anchor" aria-label="anchor" href="#arg-store"></a></dt>
<dd><p>Character of length 1, path to the
<code>targets</code> data store. Defaults to <code>tar_config_get("store")</code>,
which in turn defaults to <code>_targets/</code>.
When you set this argument, the value of <code>tar_config_get("store")</code>
is temporarily changed for the current function call.
See <code><a href="tar_config_get.html">tar_config_get()</a></code> and <code><a href="tar_config_set.html">tar_config_set()</a></code> for details
about how to set the data store path persistently
for a project.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame with one row per target/object and the selected fields.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A metadata row only updates when the target completes.
<code><a href="tar_progress.html">tar_progress()</a></code> shows information on targets that are running.
That is why the number of branches may disagree between <code>tar_meta()</code>
and <code><a href="tar_progress.html">tar_progress()</a></code> for actively running pipelines.</p>
    </div>
    <div class="section level2">
    <h2 id="storage-access">Storage access<a class="anchor" aria-label="anchor" href="#storage-access"></a></h2>


<p>Several functions like <code><a href="tar_make.html">tar_make()</a></code>, <code><a href="tar_read.html">tar_read()</a></code>, <code><a href="tar_load.html">tar_load()</a></code>,
<code>tar_meta()</code>, and <code><a href="tar_progress.html">tar_progress()</a></code> read or modify
the local data store of the pipeline.
The local data store is in flux while a pipeline is running,
and depending on how distributed computing or cloud computing is set up,
not all targets can even reach it. So please do not call these
functions from inside a target as part of a running
pipeline. The only exception is literate programming
target factories in the <code>tarchetypes</code> package such as <code><a href="https://docs.ropensci.org/tarchetypes/reference/tar_render.html" class="external-link">tar_render()</a></code>
and <code><a href="https://docs.ropensci.org/tarchetypes/reference/tar_quarto.html" class="external-link">tar_quarto()</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="cloud-metadata">Cloud metadata<a class="anchor" aria-label="anchor" href="#cloud-metadata"></a></h2>


<p>Metadata files help <code>targets</code>
read data objects and decide if the pipeline is up to date.
Usually, these metadata files live in files in the local
<code>_targets/meta/</code> folder in your project, e.g. <code>_targets/meta/meta</code>.
But in addition, if you set <code>repository</code> to anything other than
<code>"local"</code> in <code><a href="tar_option_set.html">tar_option_set()</a></code> in <code>_targets.R</code>, then <code><a href="tar_make.html">tar_make()</a></code>
continuously uploads the metadata files to the bucket you specify
in <code>resources</code>. <code><a href="tar_meta_delete.html">tar_meta_delete()</a></code> will delete those files from the
cloud, and so will <code><a href="tar_destroy.html">tar_destroy()</a></code> if <code>destroy</code> is
set to either <code>"all"</code> or <code>"cloud"</code>.</p>
<p>Other functions in <code>targets</code>, such as <code>tar_meta()</code>,
<code><a href="tar_visnetwork.html">tar_visnetwork()</a></code>, <code><a href="tar_outdated.html">tar_outdated()</a></code>, and <code><a href="tar_invalidate.html">tar_invalidate()</a></code>,
use the local metadata only and ignore the copies on the cloud.
So if you are working on a different computer than the
one running the pipeline, you will need to download the cloud metadata
to your current machine using <code><a href="tar_meta_download.html">tar_meta_download()</a></code>. Other functions
<code><a href="tar_meta_upload.html">tar_meta_upload()</a></code>, <code><a href="tar_meta_sync.html">tar_meta_sync()</a></code>, and <code><a href="tar_meta_delete.html">tar_meta_delete()</a></code>
also manage metadata across the cloud and the local file system.</p>
<p>Remarks:</p><ul><li><p>The <code>repository_meta</code> option in <code><a href="tar_option_set.html">tar_option_set()</a></code> is actually
what controls where the metadata lives in the cloud, but it defaults
to <code>repository</code>.</p></li>
<li><p>Like <code><a href="tar_make.html">tar_make()</a></code>, <code><a href="tar_make_future.html">tar_make_future()</a></code> and <code><a href="tar_make_clustermq.html">tar_make_clustermq()</a></code>
also continuously upload metadata files to the cloud bucket
specified in <code>resources</code>.</p></li>
<li><p><code><a href="tar_meta_download.html">tar_meta_download()</a></code> and related functions need to run <code>_targets.R</code>
to detect <code><a href="tar_option_set.html">tar_option_set()</a></code> options <code>repository_meta</code> and <code>resources</code>,
so please be aware of side effects that may happen running your
custom <code>_targets.R</code> file.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other metadata:
<code><a href="tar_meta_delete.html">tar_meta_delete</a>()</code>,
<code><a href="tar_meta_download.html">tar_meta_download</a>()</code>,
<code><a href="tar_meta_sync.html">tar_meta_sync</a>()</code>,
<code><a href="tar_meta_upload.html">tar_meta_upload</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"TAR_EXAMPLES"</span><span class="op">)</span>, <span class="st">"true"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> <span class="co"># for CRAN</span></span></span>
<span class="r-in"><span><span class="fu"><a href="tar_dir.html">tar_dir</a></span><span class="op">(</span><span class="op">{</span> <span class="co"># tar_dir() runs code from a temp dir for CRAN.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="tar_script.html">tar_script</a></span><span class="op">(</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/targets/">targets</a></span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/tarchetypes/" class="external-link">tarchetypes</a></span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="tar_target.html">tar_target</a></span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="tar_target.html">tar_target</a></span><span class="op">(</span><span class="va">y</span>, <span class="fl">2</span> <span class="op">*</span> <span class="va">x</span>, pattern <span class="op">=</span> <span class="fu"><a href="tar_pattern.html">map</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span>, ask <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="tar_make.html">tar_make</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">tar_meta</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">tar_meta</span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"y_"</span><span class="op">)</span><span class="op">)</span> <span class="co"># see also any_of()</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>





  </body></html>

